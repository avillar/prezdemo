PREFIX altr-ext: <http://www.w3.org/ns/dx/connegp/altr-ext#>
PREFIX dcat: <http://www.w3.org/ns/dcat#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX prez: <https://prez.dev/>
PREFIX prof: <http://www.w3.org/ns/dx/prof/>
PREFIX prov: <http://www.w3.org/ns/prov#>
PREFIX reg: <http://purl.org/linked-data/registry#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX endpoint: <https://prez.dev/endpoint/ogcrecords/>
PREFIX shext: <http://example.com/shacl-extension#>


@prefix dcat: <http://www.w3.org/ns/dcat#> .
PREFIX altr-ext: <http://www.w3.org/ns/dx/connegp/altr-ext#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX prez: <https://prez.dev/>
PREFIX prof: <http://www.w3.org/ns/dx/prof/>
PREFIX sh: <http://www.w3.org/ns/shacl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX shext: <http://example.com/shacl-extension#>


prez:OGCSchemesObjectProfileExtended1
    a prof:Profile, prez:ObjectProfile, sh:NodeShape ;
    dcterms:title "OGC Concept Scheme Object Profile" ;
    dcterms:description "A profile for SKOS Concept Schemes" ;
    dcterms:identifier "ogcse"^^xsd:token ;
    altr-ext:hasResourceFormat
        "application/ld+json",
        "application/anot+ld+json",
        "application/rdf+xml",
        "text/anot+turtle",
        "text/turtle" ;
    altr-ext:hasDefaultResourceFormat "text/anot+turtle" ;
    altr-ext:constrainsClass skos:ConceptScheme , dcat:Catalog;
    sh:property
        [
            sh:path
                [
                    sh:union (
                            [ shext:bNodeDepth "2" ]
                            shext:allPredicateValues
                            ( [ sh:inversePath skos:inScheme ] shext:allPredicateValues )
#                            ( [ sh:inversePath skos:inScheme ] [ shext:bNodeDepth "2" ] )      # Not implemented yet
                            ( [ sh:inversePath skos:topConceptOf ] shext:allPredicateValues )
#                            ( [ sh:inversePath skos:topConceptOf ] [ shext:bNodeDepth "2" ] )  # Not implemented yet
                            ( skos:hasTopConcept shext:allPredicateValues )
#                            ( skos:hasTopConcept [ shext:bNodeDepth "2" ] )                    # Not implemented yet
                       )
                ]
        ]
   ;
.
